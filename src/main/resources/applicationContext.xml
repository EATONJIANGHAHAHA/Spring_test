<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd
">

    <!--开启注解扫面-->
    <context:component-scan base-package="com.eaton.annocation"/>

<!--    &lt;!&ndash; 创建全交给工厂&ndash;&gt;
    <bean id="userService" class="UserServiceImpl"/>-->

<!--    &lt;!&ndash;Bean实例化的三种方式&ndash;&gt;
    &lt;!&ndash;默认无参构造器&ndash;&gt;
    <bean id="bean1" class="Bean1"/>
    &lt;!&ndash;静态工厂方式&ndash;&gt;
    <bean id="bean2" class="Bean2Factory" factory-method="createBean2"/>
    &lt;!&ndash;实力工厂方式&ndash;&gt;
    <bean id="bean3Factory" class="Bean3Factory"/>
    <bean id="bean3" factory-bean="bean3Factory" factory-method="createBean3"/>-->

<!--    &lt;!&ndash;bean的作用范围&ndash;&gt;
    <bean id="person" class="Person" scope="prototype"/>-->

<!--    &lt;!&ndash;Bean的生命周期&ndash;&gt;
    <bean id="man" class="Man" init-method="setup" destroy-method="teardown">
        <property name="name" value="张三"/>
    </bean>
    <bean class="MyBeanPostProcessor"/>
    <bean id="userDao" class="UserDaoImpl"/>-->

<!--    &lt;!&ndash;Bean构造方法的属性注入&ndash;&gt;
    <bean id="user" class="User">
        <constructor-arg name="name" value="张三"/>
        <constructor-arg name="age" value="23"/>
    </bean>-->

<!--    &lt;!&ndash;使用set方法的属性注入&ndash;&gt;
    <bean id="person" class="Person">
        <property name="name" value="李四"/>
        <property name="age" value="32"/>
        &lt;!&ndash;引用了一个Bean的id，使用类的属性名进行Bean绑定。基本类型或包装其类型使用value，Bean使用ref&ndash;&gt;
        <property name="cat" ref="cat"/>
    </bean>
    <bean id="cat" class="Cat">
        <property name="name" value="Tongtong"/>
    </bean>-->

<!--    &lt;!&ndash;p命名空间树型注入&ndash;&gt;
    <bean id="person" class="Person" p:name="大黄" p:age="34" p:cat-ref="cat"/>
    <bean id="cat" class="Cat" p:name="小黄"/>-->

<!--    &lt;!&ndash;
    SpEL（Spring表达式语言）注入
    语法：#{表达式}
    &ndash;&gt;
    <bean id="category" class="Category">
        <property name="name" value="#{'服装'}"/>
    </bean>
    <bean id="productInfo" class="ProductInfo"/>
    <bean id="product" class="Product">
        <property name="name" value="#{'男装'}"/>
        <property name="price" value="#{productInfo.calculatePrice()}"/>
        <property name="category" value="#{category}"/>
    </bean>-->

<!--    &lt;!&ndash;复杂类型的属性注入&ndash;&gt;
    <bean id="collectionBean" class="com.eaton.ioc.demo5.CollectionBean">
        &lt;!&ndash;数组类型&ndash;&gt;
        <property name="arrs">
            <list>
                <value>aaa</value>
                <value>bbb</value>
                <value>ccc</value>
            </list>
        </property>
        &lt;!&ndash;List&ndash;&gt;
        <property name="list">
            <list>
                <value>111</value>
                <value>222</value>
                <value>333</value>
            </list>
        </property>
        &lt;!&ndash;Set&ndash;&gt;
        <property name="set">
            <set>
                <value>ddd</value>
                <value>eee</value>
                <value>fff</value>
            </set>
        </property>
        &lt;!&ndash;map&ndash;&gt;
        <property name="map">
            <map>
                <entry key="aaa" value="111"/>
                <entry key="bbb" value="222"/>
                <entry key="ccc" value="333"/>
            </map>
        </property>
        &lt;!&ndash;properties，通常在整合其他框架的时候使用&ndash;&gt;
        <property name="properties">
            <props>
                <prop key="username">root</prop>
                <prop key="password">1234</prop>
            </props>
        </property>
    </bean>-->

    <!--注解扫描和xml文件配置配合使用的依赖注入-->
    <context:annotation-config/> <!--这是类属性注入，在没有打开包扫描的时候使用，@Controler, @Service等注解无法使用-->
    <bean id="productService" class="com.eaton.annocation.demo3.ProductService">
    </bean>
    <bean id="productDao" class="com.eaton.annocation.demo3.ProductDao"/>
    <bean id="categoryDao" class="com.eaton.annocation.demo3.CategoryDao"/>
</beans>